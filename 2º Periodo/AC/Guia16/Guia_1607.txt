; Gabriel Eg√≠dio Santos Beloni - 885080
; Guia_1607 - Exercicio 07 - Fatorial

JMP MAIN

MUL_16:
PUSH H
PUSH D
PUSH B
MOV B, H
MOV C, L
LXI H, 0000H
LOOP_MUL16:
MOV A, E
ORA A
JZ END_MUL16
DAD B
DCR E
JMP LOOP_MUL16
END_MUL16:
POP B
POP D
POP X
RET

FAT:
LXI H, 0001H
MOV E, C
LOOP_FAT:
MOV A, E
ORA A
JZ END_FAT
CPI 01H
JZ END_FAT
PUSH D
CALL MUL_16
POP D
DCR E
JMP LOOP_FAT
END_FAT:
RET

MAIN:
LXI H, 0050H
MOV C, M
CALL FAT
SHLD 0051H
HLT